apiVersion: 2018-10-01
location: eastus
name: routr-server
properties:
  containers:
    - name: routr
      properties:
        image: fonoster/routr:1.0.0-edge
        resources:
          requests:
            cpu: 1
            memoryInGb: 1.5
        ports:
          - port: 4567
          - port: 5060
          - port: 5061
          - port: 5062
          - port: 5063
        environmentVariables:
          - name: ROUTR_DS_PROVIDER
            value: redis_data_provider
          - name: ROUTR_EXTERN_ADDR
            value: no-op
    - name: redis
      properties:
        image: redis:4.0.5-alpine
        resources:
          requests:
            cpu: 1
            memoryInGb: 1.5
  osType: Linux
  ipAddress:
    type: Public
    ports:
      - protocol: tcp
        port: '4567'
      - protocol: tcp
        port: '5060'
      - protocol: tcp
        port: '5061'
      - protocol: tcp
        port: '5062'
      - protocol: tcp
        port: '5063'
tags: null
type: Microsoft.ContainerInstance/containerGroups