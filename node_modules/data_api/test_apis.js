'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.testGroup = undefined;

var _utils = require('data_api/utils');

var _utils2 = _interopRequireDefault(_utils);

var _test_utils = require('data_api/test_utils');

var _test_utils2 = _interopRequireDefault(_test_utils);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @author Pedro Sanders
 * @since v1
 *
 * Unit Test for the "Data APIS"
 */
var testGroup = exports.testGroup = { name: "Data APIS" };

testGroup.deep_search = function () {
    var agents = [];
    agents.push(_test_utils2.default.buildAgent('John Doe', ['sip.local'], '1001'));
    agents.push(_test_utils2.default.buildAgent('Jane Doe', ['sip.local'], '1002'));
    agents.push(_test_utils2.default.buildAgent('Jake Doe', ['sip.local'], '1003'));

    var response = {
        status: 200,
        result: agents
    };

    response = _utils2.default.deepSearch(response, 'spec.credentials.username', '1001');
    var agent = response.result;
    assertTrue(agent.metadata.name == 'John Doe');
};